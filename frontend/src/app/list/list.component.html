<div class="app-container">
  <div class="header">
    <h1>Pozent Projects</h1>
  </div>
  <div class="content">
    <div class="left-panel">
      <h2 class="h2">Projects</h2>
      <div class="plusminus">
        <button class="plus" (click)="openAddlistDialog()">+</button>
        <button class="minus">-</button>
      </div>
      <mat-list>
        <mat-list-item *ngFor="let project of projects">
          <button mat-button (click)="handleProjectClick(project)">
            {{ project.projectlist }}
          </button>
        </mat-list-item>
      </mat-list>
    </div>
    <div class="right-panel">
      <div *ngIf="selectedProject">
        <div class="fixed-header">
          <h1 class="pro-head">{{ selectedProject.projectlist }}</h1>
        </div>
        <div class="fixed-upload-options">
          <div class="upload-container">
            <div class="upload-section">
              <h3 class="h3">Videos</h3>
              <input
                type="file"
                class="input"
                (change)="onFileSelect($event, 'videos')"
              />
            </div>
            <div class="upload-section">
              <h3 class="h3">Documents</h3>
              <input
                type="file"
                class="input"
                (change)="onFileSelect($event, 'docs')"
              />
            </div>
            <div class="upload-section">
              <h3 class="h3">Miscellaneous</h3>
              <input
                type="file"
                class="input"
                (change)="onFileSelect($event, 'misc')"
              />
            </div>
            <button
              class="upload-button"
              mat-raised-button
              color="primary"
              (click)="onUploadAll()"
            >
              Upload
            </button>
          </div>
        </div>
        <div class="file-lists">
          <div class="file-list-section">
            <h3 class="h3">Video List</h3>
            <div class="file-item" *ngFor="let file of projectFiles.videos">
              <video
                [src]="file.file_url"
                class="video-thumbnail"
                controls
              ></video>
              <p class="file-name">{{ file.file_name | slice : 0 : 10 }}...</p>
            </div>
          </div>
          <div class="file-list-section">
            <h3 class="h3">Document List</h3>
            <div class="file-item" *ngFor="let file of projectFiles.docs">
              <a [href]="file.file_url" download="{{ file.file_name }}">
                <img
                  src="assets/doc-icon.png"
                  alt="{{ file.file_name }}"
                  class="thumbnail"
                />
              </a>
              <p class="file-name">{{ file.file_name | slice : 0 : 10 }}...</p>
            </div>
          </div>
          <div class="file-list-section">
            <h3 class="h3">Other Files</h3>
            <div class="file-item" *ngFor="let file of projectFiles.misc">
              <a [href]="file.file_url" download="{{ file.file_name }}">
                <img
                  src="assets/file-icon.png"
                  alt="{{ file.file_name }}"
                  class="thumbnail"
                />
              </a>
              <p class="file-name">{{ file.file_name | slice : 0 : 10 }}...</p>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="!selectedProject" class="centered-message">
        <p>Select a project to view details and upload files.</p>
      </div>
    </div>
  </div>
  <div class="footer">
    <p>&copy; 2024 Project Portfolio</p>
  </div>
</div>
